<div id="global-controls" hx-swap-oob="true" class="flex justify-end mb-4">
    {% if running %}
        <div class="px-2 py-1 text-xs rounded bg-dark-lighter border border-dark-light text-gray-400 flex items-center gap-2 cursor-not-allowed opacity-75">
            <i class="fa-solid fa-circle-notch fa-spin text-primary"></i>
            <span>Processing...</span>
        </div>
    {% else %}
        <button onclick="retryIncomplete()" 
                class="px-2 py-1 text-xs rounded bg-dark-lighter border border-dark-light hover:bg-dark-light hover:text-white cursor-pointer transition-colors flex items-center text-gray-300">
            <i class="fa-solid fa-rotate-right mr-1"></i> Retry Incomplete
        </button>
    {% endif %}
</div>